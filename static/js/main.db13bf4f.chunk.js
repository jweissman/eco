(this.webpackJsonpeco=this.webpackJsonpeco||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n.n(r),i=n(18),o=n.n(i),s=(n(25),n(26),n(19)),l=n.n(s),c=(n(28),n(2)),u=n(3),h=n(15),d=n(12),f=n(10),p=n(9),m=n(5),g=n(16),y=n(6),b=n(7);function v(e,t){return function(n){return n[e]===t}}function j(e){return"string"===typeof e||e instanceof String}var w=n(1),O=function(){function e(t,n,r){Object(c.a)(this,e),this.idFor=t,this.nameFor=n,this.lookup=r,this._data={}}return Object(u.a)(e,[{key:"set",value:function(e,t){this._data[this.idFor(e)]=t}},{key:"get",value:function(e){return this._data[this.idFor(e)]}},{key:"report",get:function(){var e=this,t=Object.entries(this._data).map((function(t){var n=Object(w.a)(t,2),r=n[0],a=n[1];return[e.nameFor(e.lookup(Number(r))),a]}));return Object.fromEntries(t)}}]),e}(),k=function(){function e(){Object(c.a)(this,e),this.items=[]}return Object(u.a)(e,[{key:"it",get:function(){return this.items}},{key:"first",get:function(){return this.items[0]}},{key:"last",get:function(){return this.items[this.count-1]}},{key:"count",get:function(){return this.items.length}},{key:"add",value:function(e){this.items.push(e)}},{key:"remove",value:function(e){this.items=this.items.filter((function(t){return t!==e}))}},{key:"each",value:function(e){this.items.forEach(e)}},{key:"clear",value:function(){this.items=[]}},{key:"map",value:function(e){return this.items.map(e)}},{key:"sample",get:function(){throw new Error("Method not implemented.")}}]),e}();function x(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function M(e,t){for(var n=[],r=0;r<e;r++)n.push(t());return n}function P(e){return e[x(0,e.length-1)]}function E(e,t){return M(e,(function(){return P(t)}))}var N,A=function(){function e(t,n){Object(c.a)(this,e),this.n=t,this.max=n,this.ngrams={},this.beginnings=[]}return Object(u.a)(e,[{key:"feed",value:function(e){if(e.length<this.n)return!1;var t=e.substring(0,this.n);this.beginnings.push(t);for(var n=0;n<e.length-this.n;n++){var r=e.substring(n,n+this.n),a=e.charAt(n+this.n);this.ngrams.hasOwnProperty(r)||(this.ngrams[r]=[]),this.ngrams[r].push(a)}}},{key:"generate",value:function(){for(var e=P(this.beginnings),t=e,n=0;n<this.max&&this.ngrams.hasOwnProperty(e);n++){e=(t+=P(this.ngrams[e])).substring(t.length-this.n,t.length)}return t.trim()}}]),e}();function I(e,t,n){var r=Array.apply(null,new Array(t));return r=r.map(e),n?[].concat.apply([],r):r}var S,C,_=function(){function e(){Object(c.a)(this,e),this.count=0}return Object(u.a)(e,[{key:"next",get:function(){return this.count++}}]),e}(),W=function(){function e(){Object(c.a)(this,e),this.nameRoots=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],this.nameCount=new _}return Object(u.a)(e,[{key:"next",get:function(){var e=this.nameCount.next;return this.nameRoots[e%this.nameRoots.length]+function(e,t){return I((function(){return e}),t)}(["'"],e).join("")}}]),e}(),D=function(){function e(){Object(c.a)(this,e),this.baseItems=[],this.generatedItems=[]}return Object(u.a)(e,[{key:"next",get:function(){for(var e=this.generate(),t=0;(this.baseItems.includes(e)||this.generatedItems.includes(e))&&t++<100;)e=this.generate();return this.generatedItems.push(e),e}}]),e}(),B=(N=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return Object(c.a)(this,n),(r=t.call(this)).items=e,r.generator=void 0,r.generator=new A(a,i),r.items.forEach(r.feed),r}return Object(u.a)(n,[{key:"feed",value:function(e){this.baseItems.push(e),this.generator.feed(e)}},{key:"generate",value:function(){return this.generator.generate()}}]),n}(D),Object(y.a)(N.prototype,"feed",[b.a],Object.getOwnPropertyDescriptor(N.prototype,"feed"),N.prototype),["name"]),L=function(){function e(t,n){Object(c.a)(this,e),this.stocks=t,this.stockId=n}return Object(u.a)(e,[{key:"add",value:function(e){return this.stocks.add(e,this.name)}},{key:"remove",value:function(e){return this.stocks.remove(e,this.name)}},{key:"list",get:function(){return this.stocks.list()}},{key:"count",get:function(){return this.stocks.count(this.name)}},{key:"name",get:function(){return this.item.name}},{key:"item",get:function(){return this.stocks.lookupById(this.stockId)}}]),e}(),R=(S=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(c.a)(this,e),this.name=t,this.elements=n,this.ids=new _,this.storage={}}return Object(u.a)(e,[{key:"list",value:function(){return this.elements}},{key:"_store",get:function(){return this.storage}},{key:"clear",value:function(){this.elements=[],this.storage={}}},{key:"create",value:function(e){var t=null,n={};if(j(e))t=e,n.name=t;else{var r=e;t=r.name,n=Object(g.a)(r,B)}if(j(t)&&this.has(t))return this.manage(t);if(!j(t))throw new Error("Name must be a string");var a=this.ids.next,i=Object(m.a)({id:a,name:t},n);return this.list().push(i),this.manage(t)}},{key:"add",value:function(e,t){this.setAmount(t,this.count(t)+e)}},{key:"remove",value:function(e,t){this.setAmount(t,this.count(t)-e)}},{key:"zero",value:function(e){this.setAmount(e,0)}},{key:"count",value:function(e){var t=this.lookup(e);return this.storage[t.id]||0}},{key:"has",value:function(e){return!!this.elements.find(v("name",e))}},{key:"lookupById",value:function(e){var t=this.elements.find(v("id",e));if(t)return t;throw new Error("No such ".concat(this.name," with id ").concat(e))}},{key:"lookup",value:function(e){var t=this.elements.find(v("name",e));return t||this.create(e).item}},{key:"report",get:function(){var e=this;return this.list().flatMap((function(t){var n=Number(t.id),r=e.storage[n]||0;return Object(m.a)(Object(m.a)({},t),{},{amount:r})}))}},{key:"manage",value:function(e){return new L(this,this.lookup(e).id)}},{key:"manageAll",value:function(){var e=this;return{add:this.add,remove:this.remove,count:this.count,list:function(){return e.elements}}}},{key:"manager",get:function(){return this.manageAll()}},{key:"setAmount",value:function(e,t){var n=this.lookup(e);this.storage[n.id]=t}}]),e}(),Object(y.a)(S.prototype,"list",[b.a],Object.getOwnPropertyDescriptor(S.prototype,"list"),S.prototype),Object(y.a)(S.prototype,"create",[b.a],Object.getOwnPropertyDescriptor(S.prototype,"create"),S.prototype),Object(y.a)(S.prototype,"add",[b.a],Object.getOwnPropertyDescriptor(S.prototype,"add"),S.prototype),Object(y.a)(S.prototype,"remove",[b.a],Object.getOwnPropertyDescriptor(S.prototype,"remove"),S.prototype),Object(y.a)(S.prototype,"zero",[b.a],Object.getOwnPropertyDescriptor(S.prototype,"zero"),S.prototype),Object(y.a)(S.prototype,"count",[b.a],Object.getOwnPropertyDescriptor(S.prototype,"count"),S.prototype),Object(y.a)(S.prototype,"lookupById",[b.a],Object.getOwnPropertyDescriptor(S.prototype,"lookupById"),S.prototype),S),q=(C=function(){function e(t,n){Object(c.a)(this,e),this.name=t,this.popCtor=n,this.populations={},this.species={}}return Object(u.a)(e,[{key:"clear",value:function(){this.populations={}}},{key:"lookup",value:function(e){if(this.has(e))return this.populations[e];throw new Error("No such ".concat(this.name," '").concat(e,"'"))}},{key:"lookupById",value:function(e){var t=Object.values(this.species).find((function(t){return t.id===e}));if(t)return t;throw new Error("No such ".concat(this.name," '").concat(e,"'"))}},{key:"has",value:function(e){return this.populations.hasOwnProperty(e)}},{key:"count",value:function(e){return this.lookup(e).count}},{key:"list",value:function(){return Object.values(this.species)}},{key:"listByName",value:function(e){return this.lookup(e).list()}},{key:"create",value:function(e,t){if(this.has(e))return this.lookup(e);var n=Object(m.a)(Object(m.a)({},t),{},{name:e,id:this.list().length+1}),r=new this.popCtor(e,n);return this.populations[e]=r,this.species[e]=n,r}},{key:"populationList",get:function(){return Object.values(this.populations)}},{key:"report",get:function(){return this.populationList.flatMap((function(e){var t=e;return t.count>0?{name:t.name,amount:t.count}:[]}))}},{key:"add",value:function(e,t){this.lookup(t).add(e)}},{key:"remove",value:function(e,t){this.lookup(t).remove(e)}},{key:"manageAll",value:function(){return{add:this.add,remove:this.remove,count:this.count,list:this.list}}},{key:"manager",get:function(){return this.manageAll()}}]),e}(),Object(y.a)(C.prototype,"lookup",[b.a],Object.getOwnPropertyDescriptor(C.prototype,"lookup"),C.prototype),Object(y.a)(C.prototype,"lookupById",[b.a],Object.getOwnPropertyDescriptor(C.prototype,"lookupById"),C.prototype),Object(y.a)(C.prototype,"count",[b.a],Object.getOwnPropertyDescriptor(C.prototype,"count"),C.prototype),Object(y.a)(C.prototype,"list",[b.a],Object.getOwnPropertyDescriptor(C.prototype,"list"),C.prototype),Object(y.a)(C.prototype,"create",[b.a],Object.getOwnPropertyDescriptor(C.prototype,"create"),C.prototype),Object(y.a)(C.prototype,"add",[b.a],Object.getOwnPropertyDescriptor(C.prototype,"add"),C.prototype),Object(y.a)(C.prototype,"remove",[b.a],Object.getOwnPropertyDescriptor(C.prototype,"remove"),C.prototype),C),F=function(){function e(t,n){Object(c.a)(this,e),this.model=t,this.getStocks=n,this.changes=void 0;var r=this.getStocks(t);this.changes=new R("".concat(r.name," (delta)"),r.list())}return Object(u.a)(e,[{key:"storage",get:function(){return this.changes._store}}]),e}(),z=function(){function e(t){Object(c.a)(this,e),this.name=t,this.ticks=0,this.tracking=[],this.dynamics=new k}return Object(u.a)(e,[{key:"evolve",value:function(e){this.dynamics.add(e)}},{key:"step",value:function(){return this.flux(this.ticks++)}},{key:"report",get:function(){var e=this;return Object.fromEntries(this.tracking.map((function(t){return[t,e[t].report]})))}},{key:"flow",value:function(e){var t=this[e],n=new F(this,(function(t){return t[e]})),r=n.changes.manager,a=r.add,i=r.remove,o=t.list,s=t.count;return{lookupById:t.lookupById,_delta:n,add:a,remove:i,list:o,count:s}}},{key:"flows",value:function(){var e=this,t={};return this.tracking.forEach((function(n){return t[n]=e.flow(n)})),t}},{key:"flowsReport",value:function(e){var t={};return Object.entries(e).forEach((function(e){var n=Object(w.a)(e,2),r=n[0],a=n[1],i=a._delta;t[r]=Object.fromEntries(Object.entries(i.storage).map((function(e){var t=Object(w.a)(e,2),n=t[0],r=t[1];return[a.lookupById(Number(n)).name,r]})))})),t}},{key:"flux",value:function(e){var t=this,n=this.flows();return this.dynamics.each((function(t){return t(n,e)})),Object.entries(n).forEach((function(e){var n=Object(w.a)(e,2),r=n[0],a=n[1]._delta;t.apply(a,r)})),{changed:this.flowsReport(n)}}},{key:"apply",value:function(e,t){var n=this[t].manager,r=n.list(),a=e.storage,i={};return r.forEach((function(e){if(a[e.id]){var t=a[e.id];n.add(t,e.name),i[e.name]=t}})),{changed:i}}}]),e}(),T=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).ids=new _,e}return Object(u.a)(n,[{key:"list",value:function(){return this.items}},{key:"names",get:function(){return this.items.map((function(e){return e.name}))}},{key:"create",value:function(e){var t=this.ids.next,n=Object(m.a)({id:t},e);return this.items.push(n),n}},{key:"lookup",value:function(e){return this.items.find((function(t){return t.name===e}))}}]),n}(k);function H(e){var t=x(0,100);return t>95?e[3]:t<5?e[0]:P([e[1],e[2]])}var G,V,J=new _,K=function(e,t){return{id:J.next,name:e,kind:t,age:0,guile:H(["transparent","convincing","beguiling","insidious"]),health:H(["dying","unwell","flourishing","triumphant"]),spirit:H(["languorous","vigorous","impetuous","ferocious"]),cunning:H(["foolish","sly","crafty","manipulative"]),agility:H(["clumsy","nimble","spry","balletic"]),strength:H(["weak","robust","mighty","indomitable"])}},U=new _,Q=function(e){var t=H(["impoverished","well-off","luxuriant","decadent"]),n=H(["unpretentious","savvy","urbane","sleek"]),r=H(["inconsequential","marginal","influential","sovereign"]),a=H(["clueless","well-informed","wise","prescient"]);return{id:U.next,name:e,wealth:t,sophistication:n,power:r,knowledge:a}},X={physical:{spirit:["languorous","vigorous","impetuous","ferocious"],strength:["weak","robust","mighty","indomitable"],cunning:["foolish","sly","crafty","manipulative"],agility:["clumsy","nimble","spry","balletic"],guile:["transparent","convincing","beguiling","insidious"]},social:{wealth:["impoverished","well-off","luxuriant","decadent"],sophistication:["unpretentious","savvy","urbane","sleek"],power:["inconsequential","marginal","influential","sovereign"],knowledge:["clueless","well-informed","wise","prescient"]},mental:{insight:["dense","intuitive","incisive","brilliant"],depth:["superficial","substantial","profound","inscrutable"],education:["unlettered","literate","tutored","well-read"],disposition:["dismal","hopeful","propitious","roseate"],valor:["timid","bold","courageous","fearless"],personality:["bland","charismatic","captivating","magnetic"]},spiritual:{wit:["slow","clever","biting","savage"],empathy:["sadistic","generous","benevolent","selfless"],integrity:["uncertain","sound","solid","incorruptible"],beauty:["ugly","fair","radiant","resplendent"],charm:["repulsive","inoffensive","affable","likeable"],resolve:["vacillating","steadfast","intrepid","relentless"]}},Y=function(e){var t=["terrible","adequate","good","excellent"],n=X,r=null;if(Object.entries(n).forEach((function(n){var a=Object(w.a)(n,2),i=(a[0],a[1]);Object.entries(i).forEach((function(n){var a=Object(w.a)(n,2),i=(a[0],a[1]);i.forEach((function(n){n===e&&(r=t[i.indexOf(n)])}))}))})),null===r)throw new Error("Cannot judge unknown quality "+e);return r},Z=new _,$={id:-1,name:"Human Being",size:"medium"},ee=function(e,t){var n=new R("".concat(e,"'s Things")),r=new R("".concat(e,"'s Traits"));return{id:Z.next,kind:t,name:e,age:0,body:K(e,$),mind:{insight:H(["dense","intuitive","incisive","brilliant"]),depth:H(["superficial","substantial","profound","inscrutable"]),education:H(["unlettered","literate","tutored","well-read"]),disposition:H(["dismal","hopeful","propitious","roseate"]),valor:H(["timid","bold","courageous","fearless"]),personality:H(["bland","magnetic","charismatic","captivating"])},soul:{wit:H(["slow","clever","biting","savage"]),empathy:H(["sadistic","generous","benevolent","selfless"]),integrity:H(["uncertain","sound","solid","incorruptible"]),beauty:H(["ugly","fair","radiant","resplendent"]),charm:H(["repulsive","inoffensive","affable","likeable"]),resolve:H(["vacillating","steadfast","intrepid","relentless"])},currency:0,things:n.manageAll(),traits:r.manageAll(),meters:{},memory:new T}},te=["name"],ne=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"first",value:function(e){return e.values().next().value}}]),e}(),re=new _,ae=(G=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;Object(c.a)(this,e),this.name=t,this.species=n,this.individuals=r,this.id=re.next,this.ids=new _}return Object(u.a)(e,[{key:"list",value:function(){var e=[];return this.individuals.forEach((function(t){return e.push(t)})),e}},{key:"count",get:function(){return this.individuals.size}},{key:"first",get:function(){return ne.first(this.individuals)}},{key:"lookup",value:function(e){var t=null;if(this.individuals.forEach((function(n){n.name===e&&(t=n)})),t)return t;throw new Error("Could not find individual with name '".concat(e,"' in the population of ").concat(this.name))}},{key:"lookupById",value:function(e){var t=null;if(this.individuals.forEach((function(n){n.id===e&&(t=n)})),t)return t;throw new Error("Could not find individual with id ".concat(e," in the population of ").concat(this.name))}},{key:"birth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"".concat(this.name," ").concat(this.count),t=this.create(e);return t}},{key:"death",value:function(e){if(e){var t=this.destroy(e);if(t)return t}else{var n=this.first;if(n)return this.destroy(n.name),n}throw new Error("Population already empty!")}},{key:"add",value:function(e){for(var t=[],n=0;n<e;n++)t.push(this.birth());return t}},{key:"remove",value:function(e){for(var t=[],n=0;n<Math.min(this.count,e);n++)t.push(this.death(this.first.name));return t}},{key:"build",value:function(e){var t=null,n={};if(j(e))t=e,n.name=t;else{var r=e;t=r.name,n=Object(g.a)(r,te)}var a=this.ids.next;return Object(m.a)({id:a,name:t},n)}},{key:"create",value:function(e){var t=this.build(e);return this.individuals.add(t),t}},{key:"destroy",value:function(e){var t=this.lookup(e);return this.individuals.delete(t),t}},{key:"report",get:function(){return Object.fromEntries(this.list().map((function(e){return[e.id,e.name]})))}}]),e}(),Object(y.a)(G.prototype,"lookupById",[b.a],Object.getOwnPropertyDescriptor(G.prototype,"lookupById"),G.prototype),Object(y.a)(G.prototype,"death",[b.a],Object.getOwnPropertyDescriptor(G.prototype,"death"),G.prototype),Object(y.a)(G.prototype,"create",[b.a],Object.getOwnPropertyDescriptor(G.prototype,"create"),G.prototype),Object(y.a)(G.prototype,"destroy",[b.a],Object.getOwnPropertyDescriptor(G.prototype,"destroy"),G.prototype),G),ie=(V=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).moieties=new k,e.obscured=!1,e.recipes=new T,e.jobs=new O((function(e){return e.id}),(function(e){return e.name}),e.lookupById),e.inventories=new O((function(e){return e.id}),(function(e){return e.name}),e.lookupById),e}return Object(u.a)(n,[{key:"report",get:function(){var e=this,t=this.list().map((function(t){return[t.id,(e.jobs.get(t)||{name:"?"}).name]}));return Object.fromEntries(t)}},{key:"create",value:function(e){var t=Object(h.a)(Object(d.a)(n.prototype),"build",this).call(this,e),r=t.name,a=t.age,i=ee(r,Q("".concat(r,"'s Gens")));return i.age=a,this.individuals.add(i),i}},{key:"work",value:function(e){var t=this,n=e.resources,r=this.jobs.report;Object.entries(r).forEach((function(e){var r=Object(w.a)(e,2),a=(r[0],r[1]);t.produce(a,n)}))}},{key:"produce",value:function(e,t){this.mayProduce(e,t)&&(e.consumes&&Object.entries(e.consumes).forEach((function(e){var n=Object(w.a)(e,2),r=n[0],a=n[1];t.remove(a,r)})),Object.entries(e.produces).forEach((function(e){var n=Object(w.a)(e,2),r=n[0],a=n[1];t.add(a,r)})))}},{key:"mayProduce",value:function(e,t){var n=!0;return e.consumes&&Object.entries(e.consumes).forEach((function(e){var r=Object(w.a)(e,2),a=r[0],i=r[1];t.count(a)<i&&(n=!1)})),n}}]),n}(ae),Object(y.a)(V.prototype,"create",[b.a],Object.getOwnPropertyDescriptor(V.prototype,"create"),V.prototype),V),oe=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).tracking=["animals","resources"],e.people=new q("people",ie),e.resources=new R("resources"),e.machines=new R("machines"),e.animals=new q("wildlife",ae),e.metrics={},e.notes={},e.actions=new T,e.policies=new T,e.currentPolicy=void 0,e}return Object(u.a)(n,[{key:"tiles",get:function(){return[]}},{key:"reset",value:function(){this.resources.clear(),this.machines.clear(),this.animals.clear(),this.people.clear(),this.dynamics.clear()}},{key:"send",value:function(e,t){var n=this.actions.lookup(e);if(!n)throw new Error("No such action ".concat(e));n.act(t)}},{key:"choose",value:function(e){var t=this.policies.lookup(e);if(!t)throw new Error("No such policy ".concat(e));this.currentPolicy=t}},{key:"step",value:function(){return this.currentPolicy&&this.currentPolicy.manage(),Object(h.a)(Object(d.a)(n.prototype),"step",this).call(this)}}]),n}(z),se=n(20);var le=n(0);function ce(e){return function(t){var n=t.name,r=t.amount,a=e&&e[n];return Object(le.jsxs)("li",{title:n,className:"Item",children:[Object(le.jsx)("span",{className:"Title","data-testid":"Name",children:n}),Object(le.jsx)("span",{"data-testid":"Count",children:r}),Object(le.jsx)("span",{"data-testid":"Delta",children:a})]},n)}}function ue(e){var t=e.children,n=e.title;return Object(le.jsx)("div",{className:"Tile",title:n,children:t})}function he(e){return Object(le.jsx)(ue,{title:e.name,children:Object(le.jsx)("ul",{"aria-label":"People",children:e.obscured?e.list().map((function(e){return Object(le.jsx)("li",{children:e.name},e.id)})):e.list().map((t=e.report,function(e){var n=e.id,r=e.name,a=e.things,i=e.traits,o=e.meters,s=a.list().map((function(e){return e.name}));return Object(le.jsxs)("li",{title:r,className:"Item",children:[Object(le.jsx)("div",{className:"Title","data-testid":"Name",children:r}),Object.entries(o).map((function(e){var t=Object(w.a)(e,2),n=t[0],r=(0,t[1])(),a=r.value,i=r.max;return Object(le.jsxs)("div",{className:"Meter","data-testid":n,children:[Object(le.jsxs)("label",{htmlFor:n,style:{paddingRight:10},children:[n,":"]}),Object(le.jsxs)("meter",{id:n,style:{width:130,height:14},min:"0",max:i,low:.33*i,high:.66*i,optimum:.8*i,value:a,children:["at ",a,"/",i]})]})})),t[n]&&"?"!==t[n]&&Object(le.jsx)("span",{"data-testid":"Status",children:t[n]}),s.length>0&&Object(le.jsx)("div",{className:"Subitems","data-testid":"Inventory",children:Object(le.jsx)("ul",{children:s.sort((function(e,t){return e>t?1:-1})).map((function(e){return Object(le.jsxs)("li",{style:Object(m.a)({},0===a.count(e)?{display:"none"}:{}),children:[e," ",Object(le.jsx)("span",{"data-testid":e,className:"Count",children:a.count(e)})]},e)}))})}),i.list().length>0&&Object(le.jsx)("div",{className:"Traits","data-testid":"Trait Ranks",children:Object(le.jsx)("ul",{children:i.list().map((function(e){return Object(le.jsxs)("li",{style:Object(m.a)({},0===i.count(e.name)?{display:"none"}:{}),children:[e.name," ",Object(le.jsx)("span",{"data-testid":e.name,children:i.count(e.name)})]},e.id)}))})})]},n)}))})},e.id);var t}var de=function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))},fe=function(e){return e.split(" ").map((function(e){return de(e)})).join(" ")},pe=function(e){var t=e.tiles,n=e.tileColors,a=e.tileInspect,i=Object(r.useState)([-1,-1]),o=Object(w.a)(i,2),s=o[0],l=o[1],c=s[0]>0&&s[1]>0?a(s[0],s[1]):Object(le.jsx)(le.Fragment,{children:"--"});return Object(le.jsxs)("div",{style:{},children:[Object(le.jsx)(se.a,{}),Object(le.jsx)("table",{style:{fontFamily:'"Source Code Pro", "Fira Code", "Inconsolata", Menlo, Monaco, "Courier New", monospace',cursor:"pointer"},children:Object(le.jsx)("tbody",{children:t.map((function(e,t){return Object(le.jsx)("tr",{children:e.map((function(e,r){return Object(le.jsx)("td",{style:{color:n[e],backgroundColor:s[0]===r&&s[1]===t?"gray":"black"},onMouseEnter:function(){return l([r,t])},onMouseLeave:function(){return l([-1,-1])},"data-tip":s[0]===r&&s[1]===t?c:"",children:e},"cell-".concat(r,"-").concat(t,"}"))}))},"row-".concat(t))}))})})]})};function me(e){var t=e.modelName,n=e.items,r=e.communities,a=e.machines,i=e.animals,o=e.lastChanges,s=e.metrics,l=e.notes,c=e.board,u=r.map(he);return Object(le.jsxs)("div",{className:"Model",children:[Object(le.jsx)("h4",{"aria-label":"Model Title",style:{display:"none"},children:t}),c.tiles.length>0&&Object(le.jsx)(pe,Object(m.a)({},c)),n.length>0&&Object(le.jsx)(ue,{title:"Items",children:Object(le.jsx)("ul",{"aria-label":"Resources",children:n.map(ce(o.resources))})}),i.length>0&&Object(le.jsx)(ue,{title:"Animals",children:Object(le.jsx)("ul",{"aria-label":"Animals",children:i.map(ce(o.animals))})}),r.length>0&&Object(le.jsx)("div",{title:"Individuals",style:{display:"flex"},children:u}),a.length>0&&Object(le.jsx)(ue,{title:"Machines",children:Object(le.jsx)("ul",{children:a.map((function(e){var t=e.name;return Object(le.jsx)("li",{children:t},t)}))})}),Object.keys(s).length>0&&Object(le.jsx)(ue,{title:"Metrics",children:Object(le.jsx)("ul",{children:Object.entries(s).map((function(e){var t=Object(w.a)(e,2),n=t[0],r=t[1];return Object(le.jsxs)("li",{title:n,children:[n,Object(le.jsx)("span",{"data-testid":"Count",children:r})]},n)}))})}),Object.keys(l).length>0&&Object(le.jsx)("div",{title:"Notes",style:{overflow:"scroll",maxHeight:"640px"},children:Object(le.jsx)("table",{children:Object(le.jsx)("tbody",{children:Object.entries(l).map((function(e){var t=Object(w.a)(e,2),n=t[0],r=t[1];return n.startsWith("*")?Object(le.jsx)("tr",{style:{textAlign:"center"},title:de(n.replaceAll("*","")),children:Object(le.jsx)("td",{colSpan:3,children:Object(le.jsx)("b",{children:r})})},n):Object(le.jsxs)("tr",{title:n,children:[Object(le.jsx)("td",{style:{textAlign:"right",color:"gray"},children:n},n),Object(le.jsx)("td",{style:{width:"4px"}}),Object(le.jsx)("td",{style:{minWidth:"180px",textAlign:"left",fontSize:"15pt"},children:Object(le.jsx)("span",{"data-testid":"Description",style:Object(m.a)(Object(m.a)(Object(m.a)({},r.startsWith("*")&&{color:"lightgreen"}),r.startsWith("%")&&{color:"goldenrod"}),r.startsWith("~")&&{color:"darkgray"}),children:r.replaceAll("*","").replaceAll("%","").replaceAll("~","")})})]},n)}))})})})]})}var ge=oe,ye=function(e,t){var n=e.actions,r=e.resources,a=e.people,i=e.machines,o=e.animals,s=e.metrics,l=e.notes,c=e.tiles,u=e.tileColors;return{modelName:e.name,items:r.report,communities:a.populationList,machines:i.list(),animals:o.report,actions:n.list(),metrics:Object.fromEntries(Object.entries(s).map((function(e){var t=Object(w.a)(e,2);return[t[0],(0,t[1])()]}))),notes:Object.fromEntries(Object.entries(l).map((function(e){var t=Object(w.a)(e,2);return[t[0],(0,t[1])()]}))),lastChanges:t,board:{tiles:c||[],tileColors:u||{},tileInspect:e.tileInspect||function(){return"--"}}}};function be(e){var t=e.model,n=e.send,r=e.choose,a=e.step,i=e.lastChanges;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{"aria-label":"View",children:Object(le.jsx)(me,Object(m.a)({},ye(t,i)))}),Object(le.jsxs)("div",{"aria-label":"Controls",children:[Object(le.jsx)("span",{title:"Run",style:{display:"none"},children:Object(le.jsx)("button",{onClick:function(){return a(!0)},children:"Step"})}),Object(le.jsx)("span",{title:"Actions",children:t.actions.list().map((function(e){var t=e.name;return Object(le.jsx)("button",{title:t,onClick:function(){return n(t)},children:t},t)}))}),t.policies.count>0&&Object(le.jsx)("div",{className:"Policy",title:"Policies",children:t.policies.list().map((function(e){var n,a=e.name;return Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",checked:(null===(n=t.currentPolicy)||void 0===n?void 0:n.name)===a,title:a,onChange:function(){return r(a)}},a),a]},a)}))})]})]})}function ve(e){var t=Object(r.useState)(e),n=Object(w.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)({}),s=Object(w.a)(o,2),l=s[0],c=s[1],u=Object(r.useState)(2),h=Object(w.a)(u,2),d=h[0],f=h[1],p=Object(r.useState)(!1),m=Object(w.a)(p,2),g=m[0],y=m[1],b=Object(r.useState)(!1),v=Object(w.a)(b,2),j=v[0],O=v[1],k=Object(r.useState)(!1),x=Object(w.a)(k,2),M=x[0],P=x[1],E=Object(r.useState)(""),N=Object(w.a)(E,2),A=N[0],I=N[1],S=Object(r.useState)(""),C=Object(w.a)(S,2),_=C[0],W=C[1];Object(r.useEffect)((function(){j&&(A&&je(a)&&a.send(A,{}),O(!1))}),[A,a,j]),Object(r.useEffect)((function(){M&&(_&&je(a)&&a.choose(_,{}),P(!1))}),[_,a,M]);return Object(r.useEffect)((function(){if(g&&je(a)){var e=a.step().changed;y(!1),c(e)}}),[g,a]),function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){function e(){n.current()}if(null!==t){var r=setInterval(e,t);return function(){return clearInterval(r)}}}),[t])}((function(){return y(!0)}),d),{model:a,step:function(){y(!0)},lastChanges:l,send:function(e,t){return function(e,t){I(e),O(!0)}(e)},choose:function(e,t){return function(e,t){W(e),P(!0)}(e)},setDelay:f,setModel:i}}var je=function(e){return e instanceof ge},we=function(e){var t=e.assembly;return Object(le.jsx)(le.Fragment,{children:t.models.items.map((function(e){var t=ve(e),n=t.step,r=t.send,a=t.choose,i=t.lastChanges,o=t.model;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("h4",{children:e.name}),Object(le.jsx)(be,{step:n,send:r,model:o,choose:a,lastChanges:i},o.name)]})}))})};function Oe(e){var t=e.initialModel,n=e.models,r=ve(t),a=r.step,i=r.send,o=r.choose,s=r.lastChanges,c=r.model,u=r.setModel;return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(l.a,{options:n.map((function(e){return e.name})),onChange:function(e){var t=e.value,r=n.find((function(e){return e.name===t}));r&&u(r)},value:c.name,placeholder:"Select a model"}),je(c)?Object(le.jsx)(be,{step:a,send:i,model:c,choose:o,lastChanges:s}):Object(le.jsx)(we,{assembly:c})]})}var ke,xe=n(11),Me=["earth","sky","mountain","hill","valley","peak","mound","point","mountain-chain","isle","sea","lake","bay","pool","harbor","forest","river","glen","stream","land","place","realm","region","peoples","kingdom","road","path","haven","fortress","prison","citadel","stronghold","tower","garden","ever-","-less","at-","-person","-man","-son","-woman","-maid","-daughter","friend","foe","lord","slave","king","queen","prince","princess","light","dark","shadow","shade","sun","moon","stars","day","night","spark","starlight","firmament","heat","cold","mist","snow","wind","rain","cloud","rainbow","dew","frost","tin","iron","silver","gold","white","black","gray","red","blue","green","orange","dragons","elephants","bears","birds","horses","snakes","wolves","hounds","swans","eagles","nightingales","ice","fire","earth","water","embers","steam","magma","radiance","soot","ash","salt","void","morning","evening","dusk","noon","afternoon","midnight","willow","pine","cherry","oak","spruce","birch","elm","holly","rose","daisy","poppy","dandelion","lily","autumn","winter","spring","summer","dread","horror","awe","joy","sorrow","gloom","apple","honey","bread","elderberry","wine","fish","wax","tall","deep","lofty","lonely","great","large","small","tiny","narrow","wide","sharp","giant","quick","pale","bitter","golden","holy","fortunate","dusty","beautiful","fell","cloudy","secret","sweet","bold","splendid","abundant","sparkling","horns","fangs","claws","love","dream","music","silence","divine","fate","thought","speech","skill","tomorrow","spirit","tyranny","freedom","magic","blood","tears","laughter","jewel","ship","needle","bell","candle","mantle","veil","journey","treasure","battle","smith"],Pe=function(){function e(t,n,r){var a=this;Object(c.a)(this,e),this.languageName=t,this.vocabulary=n,this.enhanceTranslation=r,this.name=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=de(t.join("-")),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=de(r.join("-")),s="".concat(o," ").concat(e);o.endsWith("s")&&(s="".concat(o,"' ").concat(e));var l="".concat(a.translate.apply(a,t.concat(r)));return[s,l]}},this.nameInverse=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=de(t.join("-")),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=de(r.join("-")),s="".concat(o," ").concat(e);o.endsWith("s")&&(s="".concat(o,"' ").concat(e));var l="".concat(a.translate.apply(a,r.concat(t)));return[s,l]}}}return Object(u.a)(e,[{key:"translate",value:function(){for(var e=this,t="",n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.reduce((function(n,r,a){var i=e.vocabulary[r],o=!0;((n=n.trim()).endsWith("-")||n.endsWith("*"))&&(o=!1,n=n.substring(0,n.length-1)),a>0&&(i.startsWith("-")||i.startsWith("*"))&&(o=!1,i=i.substring(1,i.length));var s=[n,i];return t.startsWith("-")&&(o=!1,s=[i,n]),t=i,s.join(o?" ":"")}),"");i=i.replaceAll("-","");var o=this.enhanceTranslation?this.enhanceTranslation(i):i;return fe(o)}}]),e}(),Ee=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(c.a)(this,n),(r=t.call(this)).dictionary=e,r.invertOrder=a,r.notions=void 0;for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];return r.notions=o,r}return Object(u.a)(n,[{key:"generate",value:function(){console.log("Generate ".concat(this.notions.join("/")," using ").concat(this.dictionary.languageName," dictionary..."));var e=E(1,Me),t=(this.invertOrder?this.dictionary.nameInverse(P(this.notions)):this.dictionary.name(P(this.notions))).apply(void 0,Object(xe.a)(e)),n=Object(w.a)(t,2),r=n[0],a=n[1];return"".concat(a," (").concat(r,")")}}]),n}(D),Ne=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=t.man,i=t.woman,o=t.son,s=t.daughter,l=t.crown,c=t.place,u=t.tree,h=t.sleep,d=t.flower,f=t.beauty,p=t.great,g=t.small,y=t.water,b=t.cove,v=t.safe,j=t.light,w=t.shadow,O=t.one,k=t.many,x=t.joy,M=t.sorrow,P=t.sweet,E=t.bitter,N=t.point,A=t.heat,I=t.cold,S=t.tall,C=t.deep,_=t.bell,W=t.mound,D=t.run,B=t.sing,L=t.way,R=t.no,q=t.at,F=t.eat,z=t.drink,T=t.good,H=t.bad,G=t.quick,V=t.slow,J=t.time,K=t.air,U=t.cut,Q=t.all,X=t.hard,Y=t.soft,Z=t.color,$=t.ore,ee=t.wing,te=t.snake,ne=t.horse,re=t.bear,ae=t.elephant,ie=t.dog,oe=t.wild,se=t.fear,le=t.death,ce=t.sound,ue=t.tooth,he=t.heart,de=t.wood,fe=t.over,pe=t.high,me=t.fight,ge=t.face,ye=t.mere,be=t.strong,ve={"-person":a,"-man":a,"-woman":i,"-maid":g+i,"-son":o,"-daughter":s,veil:fe+ge,star:Y+j,daisy:_+d,poppy:h+d,dandelion:l+d,willow:M+u,cherry:T+u,spruce:P+u,pine:E+u,birch:g+u,elm:S+u,oak:X+u,holly:x+u,king:l+a,queen:l+i,sea:p+y,lake:y+c,pool:y+ye,bay:b+c,harbor:v+b,haven:v+c,forest:k+u+c,people:k+a+i,ice:E+I,prison:E+M+c,jewel:g+f,needle:E+N,candle:A+N,hill:g+W+c,mountain:p+W+c,valley:g+C+c,peak:p+N+c,mound:W+c,land:k+a+c,lofty:p+pe,sky:p+pe+fe,low:g+O,river:y+D+L,isle:C+y+c,wine:x+z,honey:P+z,apple:g+F,bread:T+F,elderberry:v+F,fish:g+G,harvest:u+a+U,night:w+J,garden:d+c,vault:C+U+c,white:j+Z,black:w+Z,green:u+Z,red:A+Z,blue:I+Z,morning:j+J,evening:w+J,noon:pe+j,fire:A+j,tin:Y+$,silver:f+$,gold:C+$,bird:G+ee,birds:T+ee,horses:ne,elephants:ae,bears:re,snakes:te,wolves:oe+ie,hounds:T+ie,large:S+p,tiny:g+g,thirst:R+z,wax:V+Y,fortunate:p+T,beautiful:p+f,silence:R+ce,music:a+i+B,abundant:k+k,teeth:k+ue,battle:k+a+me,dark:R+j},je=ve.fire,we=ve.red,Oe=ve.vault,ke=ve.star,xe=ve.night,Me=ve.ice,Ee=ve.harvest,Ne=ve.river,Ae=ve.mountain,Ie=ve.valley,Se=ve.king,Ce=ve.land,_e=ve.lofty,We=ve.sky,De=ve.low,Be=ve.people,Le=ve["-person"],Re=ve.white,qe=ve.black,Fe=ve.morning,ze=ve.evening,Te=ve.noon,He=ve.bird,Ge=ve.large,Ve=ve.thirst,Je=ve.silence,Ke=ve.music,Ue=ve.teeth,Qe=ve.battle,Xe={dragons:be+ee+te,swans:f+He,eagles:_e+He,nightingales:ze+He,iron:be+$,dusk:Fe+ze,gray:Re+qe,orange:Ee+Z,afternoon:C+Te,midnight:C+ze,lily:ke+d,rose:we+d,divine:p+Se,princess:Se+s,prince:Se+o,kingdom:Se+Be+c,fortress:Se+v+c,citadel:k+Be+c,stronghold:v+Be+C+c,tower:S+fe,"mountain-chain":k+Ae+c,friend:P+Le,foe:E+Le,lord:_e+Le,slave:De+Le,rain:We+y,earth:k+Ce,glen:Ne+Ie,stream:g+Ne,realm:O+Ie+c,region:k+Ne+Ce,peoples:Be+Be,road:Q+Le+L,path:D+L,shade:C+w,sun:We+j,moon:xe+j,autumn:Ee+J,winter:E+J,spring:d+J,summer:be+A+J,cloud:We+y,cloudy:Q+We+y,"ever-":Q+J,"-less":R,"at-":q,stars:k+ke,day:j+We+J,starlight:ke+j,spark:be+je,snow:We+I,mist:Y+We,firmament:be+Oe,wind:be+K,rainbow:k+Z+We,frost:X+Me,dew:g+Fe+y,dread:se+Se,lonely:O+q+ye,giant:O+Ge+a,awe:p+se,ash:je+le,steam:je+y,magma:je+Ne,dry:A+Ve,food:F+Ee,space:p+_e,dark:C+w,broad:C+C,voice:Le+Ke,war:p+Qe,laughter:x+Ke},Ye=Xe.dread,Ze=Xe.ash,$e=Xe.rainbow,et=Xe.dry,tt=Xe.food,nt=Xe.space,rt=Xe.dark,at=Xe.broad,it=Xe.orange,ot=Xe.divine,st=Xe.voice,lt=Xe.iron,ct=Xe.spark;console.log("assemble!",{roots:t,basics:ve,intermediate:Xe});var ut=Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)({},t),ve),Xe),{},{sparkling:k+ct,horror:qe+Ye,embers:je+Ze,soot:qe+Ze,radiance:$e+Z,salt:et+tt,void:R+nt,gloom:rt+qe,narrow:Ne+Ie+c,wide:at+Ce,sharp:Ye+N,pale:Y+Re,golden:Re+it+f,holy:ot+x,dusty:et+Y,fell:I+se,secret:rt+Je,bold:be+st,splendid:$e+j,horns:k+Ye+N,claws:H+N,fangs:Ye+Ue,love:he+Le,dream:h+Ke,fate:ot+je,speech:k+st,tomorrow:J+J,spirit:j+ot,tyranny:H+Se,magic:ot+ct,thought:j+J,skill:T+Le,freedom:be+Be,blood:we+y,tears:M+y,ship:y+de,journey:c+J+Le,treasure:T+x,smith:lt+Le},n);return new Pe(e,ut,(function(e){return Object.keys(r).forEach((function(t){e.includes(t)&&(e=e.replaceAll(t,r[t]))})),e}))}("Khuzdul",{crown:"a\xefr",at:"as-",great:"g",strong:"ou",heat:"r",light:"an-",small:"i",woman:"a",man:"d",deep:"ei",water:"le",place:"an",shadow:"uz",daughter:"al",way:"n\xe2la",mantle:"m\xf6tull",tree:"an",mound:"h\xe6\xf0",quick:"e",time:"gaz",over:"aya-",bitter:"am\xe9",beauty:"ea",high:"tl",wing:"hla",safe:"-c\xfaa",hard:"ekh",many:"a",cold:"\xed",one:"er",mere:"s\xeba",all:"er",wood:"taf",cut:"k",run:"r",sorrow:"sorg",joy:"je",no:"u-",sing:"ina",fear:"ga",tooth:"tur",color:"o",fight:"klak",air:"ur",bad:"nu",bear:"gruw",bell:"bjel",cove:"cof",death:"lun",dog:"hu",drink:"le",eat:"zu",elephant:"elefant",flower:"ela",good:"lu",heart:"eru",horse:"raph",ore:"ann",point:"-el",sleep:"ol",snake:"lug",soft:"i",son:"on",sweet:"hl",tall:"mu-",wild:"pel",sound:"ada",face:"vih",slow:"ikshu"},Object(m.a)(Object(m.a)({},{dwarvish:"khuzdul",jewel:"silmaril",summer:"samhradh",prison:"kharkhor",iron:"jern",holly:"kristtorn",land:"-lann",mountain:"fell","mountain-chain":"fellkjede",peak:"felltindr",bay:"vik-",stars:"-sterne",silence:"-stille",river:"elv",ice:"yses",icy:"iskald",fangs:"hoggtann",dragons:"drager",giant:"kjempe",hill:"h\xf8yde",golden:"gyllen",gold:"gull",music:"musikk",pine:"furu",eagles:"orn-",gray:"gr\xe5-",stronghold:"daingneach",tyranny:"dyren-",nightingales:"nattergal",vale:"dal",valley:"dalr",magic:"seith","-woman":"v\xedf",haven:"-c\xfaan",swans:"eala",day:"dagaz",cherry:"ker\xe1sion",mist:"niwl",great:"gabil",laughter:"g\xe0ire",spring:"earrach"}),{speech:"agl\xe2b",lord:"uzbad",path:"n\xe2la",black:"nar\xe2g",cloud:"shath\xfbr",lake:"z\xe2ram",pool:"z\xe2ram",silver:"kibil",stream:"\xfbl",horn:"inbar",fortress:"gathol"}),{"\xe6\xf0":"eth",gt:"zu",izu:"su",anan:"enon",heth:"art","a\xef":"ul",lrd:"rt",ieie:"e",eaeh:"ea",aa:"\xe2",nn:"rn",ae:"a",ai:"e",dk:"h"}),Ae=Ne,Ie={uwen:"uviel",db:"v",dc:"g",nc:"g",uie:"uvie",airt:"\xedrd",ir:"er",ln:"len",ean:"\xf3n\xeb",fn:"van",rngil:"rgil*",nn:"n",egdor:"egion",ororo:"oro",uilo:"oiolo",oss:"oss\xeb"},Se={ng:"a"},Ce={ss:"ss\xeb",n:"iath",lt:"hen",ll:"l"},_e={er:"ess\xeba",r:"iand",on:"ion",il:"ion",d:"\xeb"},We=new Pe("Aelvic (Neo-Sindarin)",{heat:"ast",cold:"ring","-less":"uv-","ever-":"ui-","at-":"ad-","-person":"-we","-man":"-on","-son":"-ion","-woman":"-ien","-maid":"-wen","-daughter":"-iell","mountain-chain":"-orodrim",abundant:"ovor",afternoon:"avnedhor",apple:"orf",autumn:"iarvas-",awe:"anwar",battle:"dagor",bay:"c\xf4f",bears:"graw",beautiful:"bain",bell:"nell",bitter:"saer",birch:"hwinn*",birds:"aewen",black:"morn",blood:"sereg",blue:"luin-",bold:"beren",bread:"-bas",candle:"l\xedgu",cherry:"aebin*",citadel:"ost-",claws:"gamp-",cloudy:"fanui",daisy:"eirien",dandelion:"orchen",day:"or-",deep:"n\xfbr-",dew:"m\xeedh-",divine:"ballean",dragons:"amlug",dread:"gost",dream:"\xf4l",dusk:"moth-",dusty:"astren*",eagles:"thoron",earth:"amar",elderberry:"gwennod",elephants:"annabon",elm:"alaf",evening:"aduial",fangs:"carax\xeb",fate:"amarth",fell:"delu",fire:"nor-",firmament:"menel*",fish:"lhim",foe:"-coth",forest:"taur*",fortress:"garth-",fortunate:"alwed",freedom:"leinas",friend:"-mellon",frost:"nais",giant:"noroth",glen:"imlad",gloom:"dim-",gold:"malt-",golden:"gl\xf3riel",gray:"thind-",great:"beleg-",green:"calen-",harbor:"h\xfbb",haven:"-lond*",hill:"amon",holy:"aer",honey:"gl\xee",horns:"rais",horror:"angoss-",horses:"roch",ice:"hel-",iron:"ang-",isle:"tol",jewel:"m\xeer",journey:"ledh-",joy:"glass-",king:"aran",kingdom:"arnad",laughter:"lalaith",lake:"ael",land:"dor-",large:"daer",light:"ea",dark:"d\xfbr",lily:"loth",lofty:"raud",lonely:"air*",lord:"-gon",love:"m\xeel",magic:"l\xfbth",mantle:"col-",midnight:"fuin",mist:"hith-",moon:"ithil",morning:"-aur",mound:"coro-",mountain:"ered",music:"-linnas",narrow:"agor-",needle:"aeglin",night:"d\xfb",nightingales:"d\xfalin*",noon:"nedhor",oak:"doron*",orange:"culuin",pale:"nim-",path:"lant",peak:"aegnas",peoples:"li-",pine:"thon*",place:"sa-",point:"til",pool:"l\xeen",poppy:"lurloss-",prison:"-band",quick:"lim",rain:"ross-",rainbow:"ninniach",realm:"-arthor",red:"caran-",region:"gardh",river:"-rant",road:"men",rose:"merin*",sea:"-geaer",secret:"dolen*",shade:"gwath",shadow:"-lum",sharp:"crisg-",ship:"cair*",silence:"dh\xedn-",silver:"celeb-",skill:"curu-",sky:"-ell",slave:"m\xfbl",small:"cidinn*",smith:"-tan",snakes:"l\u0177g",snow:"loss-",sorrow:"n\xeer",spark:"tinu-",sparkling:"m\xedriel",speech:"paeth*",spirit:"f\xeba-",splendid:"claur-",spring:"ethuil",spruce:"ecthelorn*",starlight:"gilith",stars:"-ngil",stream:"s\xeer",stronghold:"-gothrond",summer:"llair\xeb",sun:"anor*",swans:"alqua",sweet:"laich",tall:"ta-",tears:"nirnaeth",thought:"nauth*",tin:"-ladog",tiny:"tithen*",tomorrow:"abor",tower:"barad-",treasure:"maen*",tyranny:"thang",valley:"nan",veil:"f\xe2n",water:"nin",wax:"l\xeeg",white:"nique-",wide:"-land",willow:"tathar*",wind:"gwae",wine:"miru",winter:"rh\xeew",holly:"ereg*",garden:"sant",queen:"bereth",prince:"ernil",princess:"brethil",cloud:"fan",hounds:"h\xfb",wolves:"draug",embers:"i\xfbl",soot:"ast",ash:"lith",salt:"sing",void:"gaw",steam:"tuim",magma:"orodu",radiance:"aglar"},(function(e){return function(e){return e.split(" ").map((function(e){return e.startsWith("-")&&(e=e.substring(1,e.length),Object.keys(Se).forEach((function(t){e.startsWith(t)&&(e=Se[t]+e)}))),e.endsWith("-")&&(e=e.substring(0,e.length-1),Object.keys(Ce).forEach((function(t){e.endsWith(t)&&(e+=Ce[t])}))),Object.entries(Ie).forEach((function(t){var n=Object(w.a)(t,2),r=n[0],a=n[1];e=e.replaceAll(r,a)})),e.endsWith("*")&&(e=e.replaceAll("*",""),Object.keys(_e).forEach((function(t){e.endsWith(t)&&(e+=_e[t])}))),e.replaceAll("*",""),e})).join(" ")}(e)})),De={lenlond:"llin"},Be=new Pe("Westron",{heat:"h\u01e3te",cold:"cheald",abundant:"ofer",afternoon:"ofern\xf3n",apple:"\xe6ppel",autumn:"h\xe6rfest",awe:"ondrysnu",battle:"gefeoht",bay:"berie",bears:"bera",beautiful:"cyrten",bell:"cnyll",birch:"beorc",bitter:"\u0101for",birds:"bord",black:"bl\xe6c",blood:"blod",blue:"ble\xf3",bold:"baldor",bread:"hl\xe1f",candle:"condell",cherry:"cirse",citadel:"burhf\xe6sten",claws:"clif",cloudy:"genipfull",daisy:"d\xe6ges",dandelion:"\xe6g-wyrt",day:"d\xe6g",dark:"dearc",deep:"deop",dew:"deaw",divine:"t\xfdr",dragons:"f\xfdrdraca",dread:"br\xf3ga",dream:"dr\u0113am",dusk:"dosk",dusty:"dystig",eagles:"earn",earth:"aarde",elderberry:"elder",elephants:"elpend",elm:"wych",evening:"\u01e3fnung",fangs:"-fon",fate:"d\xe9a\xfewyrd",fell:"fell",fire:"f\xfdr",firmament:"heuene-Rof",fish:"fisc",foe:"-feond",forest:"forwest",fortress:"healden",fortunate:"e\xe1deg",freedom:"freodom",friend:"fr\u0113ond",frost:"hr\u012bm",giant:"\u0113oten",glen:"glyn",gloom:"gl\u014dm",gold:"guld",golden:"gylden",gray:"gr\xe1r",great:"\xe6rgod",green:"grene",harbor:"hyth",haven:"-haff",hill:"-holm",holy:"h\u0101li\u0121",honey:"huni\u0121",horns:"kern",horror:"fyrhtu",horses:"eoh",ice:"\u012bs",iron:"\xedsen",isle:"\u012begland",jewel:"si\u0121el",journey:"faru",joy:"dr\u0113am",king:"kenning",kingdom:"kenningdom",laughter:"hleahtor",lake:"lac",land:"lond",large:"rum",light:"leoht",lily:"lilie",lofty:"hoch",lonely:"-syndrig",lord:"fr\u0113a",love:"leof",magic:"r\xfan",mantle:"hacele",midnight:"midnyght",mist:"-hase",moon:"m\u0113n\xf4",morning:"-morn",mound:"tel-",mountain:"munt-",music:"dr\xe9am",narrow:"nearunes",needle:"n\xe6dl",night:"nyght",nightingales:"st\xe6rlinc",noon:"noon",oak:"eik",orange:"orenge",pale:"wann-",path:"pade-",peak:"piic",peoples:"-folk",pine:"pintreow",place:"-stead",point:"-gad",pool:"-cl\xe6ne",poppy:"popi\u0121",prison:"-cweartern",quick:"cwic",rain:"re\u0121n",rainbow:"re\u0121nboga",realm:"-r\xedce",red:"reod-",region:"-guard",river:"-ex",road:"r\u0101d",rose:"r\xf3se",sea:"s\u01e3",secret:"hord",shade:"sceadu",shadow:"sceaduwe",sharp:"sharp",ship:"scip",silence:"sw\u012b\u0121e",silver:"seolfor",skill:"cr\xe6ft",sky:"heofon",slave:"tr\xe4l",small:"sm\xe6l",smith:"-wyrhta",snakes:"natra",snow:"sn\xe1w",sorrow:"sorh",spark:"ysl",sparkling:"bladesung",speech:"spr\u01fdc",spirit:"arodnes-",splendid:"from",spring:"lencten",spruce:"s\xe6ppe",starlight:"tunglenleoht",stars:"-tunglen",stream:"str\u0113am",stronghold:"-f\xe6sten",summer:"haf",sun:"sunu",swans:"ilfetu",sweet:"sw\xe9te",tall:"brant-",tears:"hr\xf3p",thought:"th\xf3ht",tin:"-zin",tiny:"tyne*",tomorrow:"t\u014dmorgen",tower:"stipel-",treasure:"sinc",tyranny:"m\xe1nbealu",valley:"d\xe6l",veil:"oferbr\xe6",water:"w\xe6ter",wax:"weax",white:"albe",wide:"wide",willow:"welig",wind:"wend",wine:"-win",winter:"yver",holly:"holen-",garden:"gewyrt\xfan",queen:"cwen",prince:"prince",princess:"princess",cloud:"genip",hounds:"hund",wolves:"wulf",embers:"ysl",soot:"hrum",ash:"asce",salt:"sealt",void:"r\u016bm",steam:"st\u0113am",magma:"lava",radiance:"gl\xe6m","-less":"no-","ever-":"\u01e3fre-","at-":"\xe6t-","-person":"-wight","-man":"-man","-son":"-ing","-woman":"-fro","-maid":"-maga\xf0","-daughter":"-dohtor","mountain-chain":"beorgstede"},(function(e){return Object.keys(De).forEach((function(t){e.includes(t)&&(e=e.replaceAll(t,De[t]))})),e})),Le=new Pe("Common",{heat:"hete",cold:"cold",cloud:"pall",cloudy:"pallid",daisy:"woundwort",dandelion:"puffball",dragons:"drake",dark:"derk",abundant:"abounding",afternoon:"overnoon",apple:"pome",autumn:"fall",awe:"wonder",battle:"batell",bay:"bay",bears:"bruin",beautiful:"lovesome",bell:"belle",birch:"birce",birds:"bord",bitter:"bittre",black:"blak-",blood:"blod",blue:"ble\xf3",bold:"baldor",bread:"bred",candle:"candel",cherry:"cherie",citadel:"city-hold",claws:"clawe",day:"daye",deep:"deepe",dew:"deaw",divine:"gode",dread:"drede",dream:"drem",dusk:"eventide",dusty:"dusti",eagles:"egle",earth:"erthe",elderberry:"elder",elephants:"olifant",elm:"elm",evening:"evenyng",fangs:"fangtooth",fate:"doom",fell:"fell",fire:"fier",firmament:"heuene-Rof",fish:"fisch",foe:"fo",forest:"forwest",fortress:"holden",fortunate:"lukky",freedom:"freodom",friend:"fr\u0113ond",frost:"ryme",giant:"giaunt",glen:"gleann",gloom:"gloam",gold:"gold",golden:"gulden",gray:"grey",great:"great",green:"gre",harbor:"hyth",haven:"-havene",hill:"-hyll",holy:"h\u0101li\u0121",honey:"huni\u0121",horns:"horne",horror:"fyrhtu",horses:"eoh",ice:"is-",iron:"iren-",isle:"yland-",jewel:"jeuel",journey:"journe",joy:"joy",king:"kenning",kingdom:"kenningdom",laughter:"laughtre",lake:"lac",land:"-land",large:"grand",light:"lighte",lily:"lilly",lofty:"lofte",lonely:"lone",lord:"lord",love:"love",magic:"magyk",mantle:"mantel",midnight:"midnyght",mist:"-fog",moon:"mone",morning:"-morn",mound:"-hyll",mountain:"mount",music:"musika",narrow:"nearunes",needle:"nedle",night:"nyght",nightingales:"thrust",noon:"noon",oak:"oak",orange:"orenge",pale:"bleek-",path:"peth",peak:"peek",peoples:"-folk",pine:"pyne",place:"-stead",point:"-point",pool:"-pole",poppy:"celandine",prison:"gaole",quick:"quic",rain:"rain",rainbow:"rainbow",realm:"ward",red:"reod-",region:"-guard",river:"-ryver",road:"rode",rose:"r\xf3se",sea:"see",secret:"secret",shade:"shade",shadow:"schadowe",sharp:"sharp",ship:"shippe",silence:"stilnes",silver:"sulver",skill:"skille",sky:"heaven",slave:"thralle",small:"smal",smith:"-wright",snakes:"addere",snow:"snow",sorrow:"sorwe",spark:"sparke",sparkling:"glitre",speech:"speche",spirit:"g\u0101st-",splendid:"splendur",spring:"springen",spruce:"spruse",starlight:"sterrelighte",stars:"-sterre",stream:"str\u0113am",stronghold:"-stranghalde",summer:"-sumer",sun:"sun",swans:"swan",sweet:"sweete",tall:"-talle",tears:"cryinge",thought:"thought",tin:"tin",tiny:"tyny",tomorrow:"tomorwe",tower:"torr-",treasure:"tresour",tyranny:"tirranye",valley:"d\xe6l",veil:"oferbr\xe6",water:"water",wax:"weax",white:"hwit",wide:"wide",willow:"willow",wind:"wind",wine:"-wyn",winter:"winter",holly:"holen-",garden:"gewyrt\xfan",queen:"cwen",prince:"prince",princess:"princess",hounds:"hound",wolves:"wulf",embers:"ysl",soot:"hrum",ash:"asce",salt:"sealt",void:"room",steam:"st\u0113am",magma:"lava",radiance:"gleam","-less":"no-","ever-":"even-","at-":"by--","-person":"-persoun","-man":"-man","-son":"-sonn","-woman":"-weoman","-maid":"-mayden","-daughter":"-doughter","mountain-chain":" mountayne"}),Re=function(){var e,t=Q("A Social Group"),n="male"===P(["male","female"])?["-person","-man","-son"]:["-woman","-maid","-daughter"],r=E(x(1,2),Me),a=[].concat(Object(xe.a)(r),Object(xe.a)(x(0,12)>9?[P(n)]:[])),i=(e=P([We,Ae,Be,Le])).translate.apply(e,Object(xe.a)(a)).trim(),o=r.map((function(e){return de(e)})).reverse().join("-").trim();return{person:ee(i===o?i:i+" ("+o+")",t),nameMeaning:o}},qe=new(ke=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n),(e=t.call(this,"Citizen")).subject=void 0,e.nameMeaning=void 0,e.displayAttribute=function(e){return"excellent"===Y(e)?"*".concat(e):"adequate"===Y(e)?"~".concat(e):"terrible"===Y(e)?"%".concat(e):e},e.notes=Object(m.a)(Object(m.a)(Object(m.a)(Object(m.a)({"*name":function(){return e.subject.name}},Object.fromEntries(Object.keys(X.spiritual).sort().map((function(t){return[t,function(){var n=e.subject&&e.subject.soul[t];return e.displayAttribute(n)}]})))),Object.fromEntries(Object.keys(X.social).sort().map((function(t){return[t,function(){var n=e.subject&&e.subject.kind[t];return e.displayAttribute(n)}]})))),Object.fromEntries(Object.keys(X.mental).sort().map((function(t){return[t,function(){var n=e.subject&&e.subject.mind[t];return e.displayAttribute(n)}]})))),Object.fromEntries(Object.keys(X.physical).map((function(t){return[t,function(){var n=e.subject&&e.subject.body[t];return e.displayAttribute(n)}]}))));var r=Re(),a=r.person,i=r.nameMeaning;return e.subject=a,e.nameMeaning=i,e.actions.create({name:"New",act:function(){var t=Re(),n=t.person,r=t.nameMeaning;e.subject=n,e.nameMeaning=r}}),e.evolve(e.evolution),e}return Object(u.a)(n,[{key:"evolution",value:function(){}},{key:"attributeNames",get:function(){return[X.spiritual,X.social,X.physical,X.mental].map(Object.keys)}},{key:"describeMemory",value:function(e){return"I remember ".concat(e.description)}},{key:"date",get:function(){var e=this.ticks||0,t=Math.floor(e/.1),n=t%60,r=Math.floor(t/60)%60,a=Math.floor(t/3600)%24,i=["Sun","Moon","Mars","Mercury","Jupiter","Venus","Saturn"][Math.floor(t/86400)%7];return{dayOfWeek:i,description:"".concat(i," ").concat(String(a).padStart(2,"0"),":").concat(String(r).padStart(2,"0"),":").concat(String(n).padStart(2,"0"))}}}]),n}(ge),Object(y.a)(ke.prototype,"evolution",[b.a],Object.getOwnPropertyDescriptor(ke.prototype,"evolution"),ke.prototype),ke),Fe=function(e,t){return e.filter(t)[0]},ze=function(){function e(t,n){var r=this;Object(c.a)(this,e),this.width=t,this.height=n,this.tiles=[],this.write=function(e,t,n){var a=t,i=n;r.tiles[i]=r.tiles[i]||[],r.tiles[i][a]=e},this.drawBox=function(e,t,n,a,i,o){for(var s=t+a,l=n+i,c=t;c<=s;c++)for(var u=n;u<=l;u++)(c===t||u===n||c===s||u===l||o)&&r.write(e,c,u)}}return Object(u.a)(e,[{key:"view",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{overlays:[]},n=t.overlays,r=[],a=function(t){for(var a=function(a){r[a]=r[a]||[];var i=n.length>0&&Fe(n,(function(e){var n=e.at(t,a);return""!==n&&void 0!==n}));r[a][t]=i&&i.at(t,a)||e.at(t,a)||"_"},i=0;i<=e.height;i++)a(i)},i=0;i<=this.width;i++)a(i);return r}},{key:"erase",value:function(e,t){this.tiles[t]=this.tiles[t]||[],this.tiles[t][e]=""}},{key:"at",value:function(e,t){var n=e%this.width,r=t%this.height;if(this.tiles[r])return this.tiles[r][n]}},{key:"each",value:function(e){for(var t=0;t<=this.width;t++)for(var n=0;n<=this.height;n++)e(t,n,this.at(t,n)||"")}},{key:"neighbors",value:function(t,n){var r=this;return e.neighborPositions(t,n).map((function(e){var t=Object(w.a)(e,2),n=t[0],a=t[1];return r.at(n,a)||""}))}},{key:"step",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=[];this.tiles=this.tiles||[];for(var a=function(e,r){return t.at(e,r)||n},i=0;i<=this.width;i++)for(var o=0;o<=this.height;o++){var s=a(i,o);if(void 0!==s){var l=this.neighbors(i,o),c=e(s,l,[i,o]);r[o]=r[o]||[],r[o][i]=c}}return this.tiles=r,r}}],[{key:"neighborPositions",value:function(e,t){return[[e-1,t-1],[e,t-1],[e+1,t-1],[e-1,t],[e+1,t],[e-1,t+1],[e,t+1],[e+1,t+1]]}}]),e}(),Te=function(e,t,n){return Math.min(Math.max(e,t),n)},He=function(e,t){var n=Math.abs(e[0]-t[0]),r=Math.abs(e[1]-t[1]);return Math.sqrt(n*n+r*r)},Ge=function(){function e(t,n){var r=this;Object(c.a)(this,e),this.width=t,this.height=n,this.map=new ze(this.width,this.height),this.seaLevel=5,this.smooth=function(){r.apply((function(e,t,n){var a=t.filter((function(e){return e>=r.seaLevel})).length;return a>=5&&e<r.seaLevel?[e+1]:a<4&&e>=r.seaLevel?[e-1]:e<n-1?[e,e+1,Math.floor((e+n)/2)]:e>n+1?[e,e-1,Math.floor((e+n)/2)]:[e]}))},this.flow=function(){r.apply((function(e,t,n){if(e>=n)return[e];var a=[t[1],t[3],t[5],t[7]],i=Math.max.apply(Math,a),o=t.filter((function(e){return e>=r.seaLevel})).length;return o>=7&&e<r.seaLevel?[r.seaLevel,r.seaLevel+1]:0===o?[e,e+1,e+2]:[i,i-1]}))},this.erode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;r.apply((function(e,t,n){return e<n?[e]:[e,Math.min.apply(Math,Object(xe.a)(t))]}),e)},this.extrude=function(e){e.forEach((function(e){var t,n,a=parseInt((t=r.map).at.apply(t,Object(xe.a)(e))||"0",10),i=Te(a+x(-1,7),0,9);e&&(n=r.map).write.apply(n,[String(i)].concat(Object(xe.a)(e)))}))},this.intrude=function(e){e.forEach((function(e){var t,n,a=parseInt((t=r.map).at.apply(t,Object(xe.a)(e))||"9",10),i=Te(a-x(-1,7),0,9);e&&(n=r.map).write.apply(n,[String(i)].concat(Object(xe.a)(e)))}))},this.bombard=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=x(1,4+x(0,e)),n=[x(1,r.width-1),x(1,r.height-1)],a=function(e){return He(e,n)},i=[],o=[],s=0;s<r.width;s++)for(var l=0;l<r.height;l++){var c=Math.round(a([s,l]));Math.abs(c-t)<1?o.push([s,l]):c<t&&i.push([s,l])}r.intrude(i),r.extrude(o)},this.orogeny=function(e){x(0,100)<16&&r.extrude(e),M(4,r.flow)},this.geoform=function(e,t){var n=x(0,100);e?(r.orogeny(t),r.erode(),n<32&&r.bombard(36)):(r.smooth(),n<16&&M(2,(function(){return r.bombard(7)})),r.flow())},this.componentNames=new W,this.regions=function(){return r.components((function(e){return e>=r.seaLevel}))},this.waterways=function(){return r.components((function(e){return e<r.seaLevel}))},this.ranges=function(){return r.components((function(e){return e>=8}))},this.valleys=function(){var e=r.seaLevel;return r.components((function(t,n){return(t===e||t===e+1||t===e+2)&&n.reduce((function(e,t){return e+t}),0)/n.length>=e}))},this.bays=function(){return r.components((function(e){return 4===e||3===e}))}}return Object(u.a)(e,[{key:"at",value:function(e,t){return parseInt(this.map.at(e,t)||"0",10)}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.map.step((function(n,r,a){if(x(0,1e3)<=t){var i=parseInt(n||"0",10),o=r.map((function(e){return parseInt(e||"0",10)})),s=o.reduce((function(e,t){return e+t}),0),l=Math.floor((s+i)/(r.length+1)),c=e(i,o,l,a),u=Te(P(c),0,9);return String(u)}return n}))}},{key:"components",value:function(e){var t=this,n={};return this.map.each((function(r,a,i){var o=t.map.neighbors(r,a).map((function(e){return parseInt(e,10)}));if(e(parseInt(i,10),o)){var s=Object.keys(n).filter((function(e){return function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}(n[e],(function(e){var t=Object(w.a)(e,2),n=t[0],i=t[1];return He([r,a],[n,i])<=Math.sqrt(2)}))}));if(s.length>0){var l=s[0];n[l].push([r,a]),s.length>1&&s.forEach((function(e){e!==l&&(n[l]=[].concat(Object(xe.a)(n[l]),Object(xe.a)(n[e])),delete n[e])}))}else{var c=t.componentNames.next;n[c]=[[r,a]]}}})),n}}]),e}(),Ve=function(){function e(){Object(c.a)(this,e),this.waterwayNames={},this.regionNames={},this.rangeNames={},this.valleyNames={},this.bayNames={}}return Object(u.a)(e,[{key:"nameWaterway",value:function(t,n){return void 0===this.waterwayNames[t]&&(this.waterwayNames[t]=e.names.waterways.next),this.waterwayNames[t]}},{key:"nameRegion",value:function(t,n){return void 0===this.regionNames[t]&&(this.regionNames[t]=P([e.names.regions,e.names.places]).next),this.regionNames[t]}},{key:"nameRange",value:function(t,n){return void 0===this.rangeNames[t]&&(this.rangeNames[t]=P([e.names.ranges,e.names.mountains]).next),this.rangeNames[t]}},{key:"nameValley",value:function(t,n){return void 0===this.valleyNames[t]&&(this.valleyNames[t]=e.names.valleys.next),this.valleyNames[t]}},{key:"nameBay",value:function(t,n){return void 0===this.bayNames[t]&&(this.bayNames[t]=e.names.bays.next),this.bayNames[t]}}]),e}();Ve.names={places:new Ee(We,!0,"land"),regions:new Ee(We,!1,"isle"),waterways:new Ee(We,!1,"sea","lake","water","pool"),ranges:new Ee(We,!0,"mountain-chain"),mountains:new Ee(We,!1,"mountain"),valleys:new Ee(We,!1,"valley"),bays:new Ee(We,!1,"bay")};var Je,Ke=function(){function e(t){Object(c.a)(this,e),this.elevation=t,this.linguist=new Ve,this._waterways={},this._regions={},this._ranges={},this._valleys={},this._bays={}}return Object(u.a)(e,[{key:"reset",value:function(){this._regions={},this._waterways={},this._ranges={},this._valleys={},this._bays={}}},{key:"regions",get:function(){return 0===Object.keys(this._regions).length&&(this._regions=this.elevation.regions()),this._regions}},{key:"identifyRegion",value:function(e,t){var n=this,r=Object.keys(this.regions).find((function(r){return n.regions[r].find((function(n){var r=Object(w.a)(n,2),a=r[0],i=r[1];return e===a&&t===i}))}))||null;if(r){var a=this.regions[r].length;return this.linguist.nameRegion(r,a)}}},{key:"waterways",get:function(){return 0===Object.keys(this._waterways).length&&(this._waterways=this.elevation.waterways()),this._waterways}},{key:"identifyWaterway",value:function(e,t){var n=this,r=Object.keys(this.waterways).find((function(r){return n.waterways[r].find((function(n){var r=Object(w.a)(n,2),a=r[0],i=r[1];return e===a&&t===i}))}))||null;if(r){var a=this.waterways[r].length;return this.linguist.nameWaterway(r,a)}}},{key:"identifyRegionOrWaterway",value:function(e,t){return this.identifyRegion(e,t)||this.identifyWaterway(e,t)||"(err: unknown region/waterway)"}},{key:"ranges",get:function(){return 0===Object.keys(this._ranges).length&&(this._ranges=this.elevation.ranges()),this._ranges}},{key:"identifyRange",value:function(e,t){var n=this,r=Object.keys(this.ranges).find((function(r){return n.ranges[r].find((function(n){var r=Object(w.a)(n,2),a=r[0],i=r[1];return e===a&&t===i}))}))||null;if(r){var a=this.ranges[r].length;return this.linguist.nameRange(r,a)}}},{key:"valleys",get:function(){return 0===Object.keys(this._valleys).length&&(this._valleys=this.elevation.valleys()),this._valleys}},{key:"identifyValley",value:function(e,t){var n=this,r=Object.keys(this.valleys).find((function(r){return n.valleys[r].find((function(n){var r=Object(w.a)(n,2),a=r[0],i=r[1];return e===a&&t===i}))}))||null;if(r){var a=this.valleys[r].length;return this.linguist.nameValley(r,a)}}},{key:"bays",get:function(){return 0===Object.keys(this._bays).length&&(this._bays=this.elevation.bays(),console.log("Found bays",this._bays)),this._bays}},{key:"identifyBay",value:function(e,t){var n=this,r=Object.keys(this.bays).find((function(r){return n.bays[r].find((function(n){var r=Object(w.a)(n,2),a=r[0],i=r[1];return e===a&&t===i}))}))||null;if(r){var a=this.bays[r].length;return this.linguist.nameBay(r,a)}}},{key:"identifyFeatures",value:function(e,t,n){return"Hadean"===e||"Archean"===e?"(Cartography requires calmer aeon...)":this.identifyRange(t,n)||this.identifyValley(t,n)||this.identifyBay(t,n)||""}}]),e}(),Ue=(Je=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,"Overworld")).notes={aeon:function(){return e.aeon}},e.width=60,e.height=20,e.mapgenTicks=40,e.elevation=new Ge(e.width,e.height),e.terrain=new ze(e.width,e.height),e.mountainSpots=[],e.areaPercent=Math.floor(e.area/100),e.cartographer=new Ke(e.elevation),e.tileColors={".":"lightgreen","~":"midnightblue",",":"navy","'":"darkgreen",0:"black",1:"black",2:"navy",3:"midnightblue",4:"deepskyblue",5:"moccasin",6:"forestgreen",7:"darkgreen",8:"darkslategray",9:"gray"},e.evolve(e.evolution),e.actions.create({name:"Geoform",act:function(){e.ticks=0,e.cartographer.reset()}}),e}return Object(u.a)(n,[{key:"aeon",get:function(){var e="Hadean";return this.ticks>=this.mapgenTicks/2&&(e="Archean"),this.ticks>this.mapgenTicks&&(e="Proterozoic"),e}},{key:"tiles",get:function(){return this.elevation.map.view({overlays:[]})}},{key:"tileInspect",value:function(e,t){var n=this.elevation.at(e,t)||0,r=Math.round(3600*(n-4)/5280),a=0===r?"At sea level":"".concat(Math.abs(r)," li ").concat(r>=0?"above":"below"," sea level");if("Hadean"===this.aeon||"Archean"===this.aeon)return a;var i=this.cartographer.identifyRegionOrWaterway(e,t);return[this.cartographer.identifyFeatures(this.aeon,e,t),i,a].filter(Boolean).join(" / ")}},{key:"randomPosition",value:function(){return[x(0,this.width),x(0,this.height)]}},{key:"randomPositionAlongLine",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=Object(w.a)(e,2),a=r[0],i=r[1],o=Object(w.a)(t,2),s=o[0],l=o[1],c=[Math.abs(a-s),Math.abs(i-l)],u=c[0],h=c[1];if(0===u){var d=x(0,this.height);return[a,d]}if(0===h){var f=x(0,this.width);return[f,i]}var p=h/u,m=-(p*a-i),g=Math.floor(x(0,this.width)),y=Math.floor(p*g+m),b=n||1;return[g+x(-b,b),y+x(-b,b)]}},{key:"volcanoes",get:function(){var e=this;if(0===this.mountainSpots.length){var t=Math.floor(10*this.areaPercent),n=[this.randomPosition(),this.randomPosition()],r=n[0],a=n[1],i=I((function(){return e.randomPositionAlongLine(r,a)}),t,!1);this.mountainSpots=i}return this.mountainSpots}},{key:"genHeightmap",value:function(){var e="Hadean"===this.aeon;this.elevation.geoform(e,this.volcanoes)}},{key:"buildTerrain",value:function(){var e=this;this.terrain.each((function(t,n,r){var a=parseInt(e.elevation.map.at(t,n)||"0");a>=9?e.terrain.write("^",t,n):a<=4?e.terrain.write(P(["~",","]),t,n):e.terrain.write(".",t,n)}))}},{key:"area",get:function(){return this.width*this.height}},{key:"evolution",value:function(e,t){e.resources;t>0&&(t%100===0&&console.log("The world is "+t/100+" million years old"),t<=this.mapgenTicks&&this.genHeightmap())}}]),n}(oe),Object(y.a)(Je.prototype,"tileInspect",[b.a],Object.getOwnPropertyDescriptor(Je.prototype,"tileInspect"),Je.prototype),Object(y.a)(Je.prototype,"randomPosition",[b.a],Object.getOwnPropertyDescriptor(Je.prototype,"randomPosition"),Je.prototype),Object(y.a)(Je.prototype,"randomPositionAlongLine",[b.a],Object.getOwnPropertyDescriptor(Je.prototype,"randomPositionAlongLine"),Je.prototype),Object(y.a)(Je.prototype,"evolution",[b.a],Object.getOwnPropertyDescriptor(Je.prototype,"evolution"),Je.prototype),Je),Qe=new Ue,Xe=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"Language Explorer")).dictionary=e,r.t=function(){var e;return(e=r.dictionary).translate.apply(e,arguments)},r.notes=Object(m.a)({"*lang":function(){return r.dictionary.languageName},'"Nightingale"':function(){return r.t("spark","-maid")},"Lonely Isle":function(){return r.t("isle","lonely")},"Haven of the Gods":function(){return r.t("at-","divine")},"Swan Haven":function(){return r.t("swans","haven")},"Star-Eagle":function(){return r.t("eagles","stars")},"Land of Pines":function(){return r.t("land","pine")},"Mound of Summer":function(){return r.t("mound","summer")},"Mountains of Tyranny":function(){return r.t("tyranny","mountain-chain")},"Magic Woman":function(){return r.t("magic","-woman")},"Fire Stronghold":function(){return r.t("fire","stronghold")},"Grey-Mantle":function(){return r.t("gray","mantle")},"Iron Prison":function(){return r.t("iron","prison")},"Icy Fangs":function(){return r.t("ice","fangs")},"Silver River":function(){return r.t("silver","river")},"Ever-White":function(){return r.t("ever-","snow")},"Tall White Point":function(){return r.t("tall","white","point")},"Black Foe of the World":function(){return r.t("black","foe")},"Spirit of Fire":function(){return r.t("spirit","fire")},"Mist-Needle":function(){return r.t("mist","needle")},"Mist-Shadow":function(){return r.t("mist","shadow")},"Pale-horn Mountains":function(){return r.t("mountain","pale","horns")},Shipmaker:function(){return r.t("ship","smith")},"Land of Holly":function(){return r.t("holly","land")},"Fate Hill":function(){return r.t("hill","fate")},"--":function(){return"..."},"Golden Hill":function(){return r.t("hill","golden")},"Pathless Sea":function(){return r.t("-less","path","sea")},"Star-Music":function(){return r.t("stars","music")},"Bell-Star":function(){return r.t("bell","stars")}},Object.fromEntries(Me.sort().map((function(e){return[e,function(){var t=r.t(e);return t.length>9?"%".concat(t):t}]})))),r.actions.create({name:"Common",act:function(){return r.dictionary=Le}}),r.actions.create({name:"Westron",act:function(){return r.dictionary=Be}}),r.actions.create({name:"Sindarin",act:function(){return r.dictionary=We}}),r.actions.create({name:"Khuzdul",act:function(){return r.dictionary=Ae}}),r}return n}(oe),Ye=[new Xe(Ae),Qe,qe];var Ze=function(e){var t=e.model;return Object(le.jsx)("div",{className:"App",children:Object(le.jsx)(Oe,{models:Ye,initialModel:t})})};o.a.render(Object(le.jsx)(a.a.StrictMode,{children:Object(le.jsx)(Ze,{model:Ye[0]})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.db13bf4f.chunk.js.map